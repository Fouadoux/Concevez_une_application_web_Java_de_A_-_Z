<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle}">Pay My Buddy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/transactions.css}">
</head>
<body>
<header>
    <h1>Pay My Buddy</h1>
    <nav>
        <a th:href="@{/transaction}" th:classappend="${activePage == 'transfere' ? 'active' : ''}">Transférer</a>
        <a th:href="@{/profil}" th:classappend="${activePage == 'profil' ? 'active' : ''}">Profil</a>
        <a th:href="@{/addRelation}" th:classappend="${activePage == 'addRelation' ? 'active' : ''}">Ajouter
            relation</a>
        <a th:href="@{/logout}">Se déconnecter</a>
    </nav>
</header>

<main>
    <form id="transactionForm" th:action="@{/api/transactions/create}" method="post">
        <div class="container-center">
            <div class="dropdown-description-container">
                <!-- Formulaire principal -->

                <!-- Dropdown pour la relation -->
                <div class="dropdown-container">
                    <select id="relationSelect" name="receiverId" class="dropdown-select" required>
                        <option value="" disabled selected>Sélectionner une relation</option>
                    </select>
                </div>

                <!-- Champ de description -->
                <div class="description-container">
                    <textarea id="description" name="description" class="description-field" placeholder="Description"
                              maxlength="250"></textarea>
                </div>

                <!-- Champ pour le montant -->
                <div class="amount-input">
                    <input type="number" id="amount" name="amount" min="0" max="9999" step="1" placeholder="0" required>
                    <img th:src="@{/image/transactionPage/chevron-down.svg}" alt="Chevron Down" class="chevron-down">
                    <img th:src="@{/image/transactionPage/chevron-down.svg}" alt="Chevron Up" class="chevron-up">
                </div>

                <!-- Bouton de soumission -->
                <div class="button-paye">
                    <button type="submit" class="icon-button">
                        <img th:src="@{/image/transactionPage/03_Button.svg}" alt="Payer">
                    </button>
                </div>
            </div>
        </div>
    </form>



    <!-- Table des transactions -->
    <div class="transTable">

        <table id="transactionsTable" >
            <caption>Mes Transactions</caption>
            <thead>
            <tr>
                <th class="table-relation"> Relations</th>
                <th class="table-description">Description</th>
                <th class="table-montant">Montant</th>

            </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

    </div>
</main>
<script type="module" th:src="@{/js/transactionHistory.js}"></script>
<script type="module" th:src="@{/js/utils.js}"></script>
<script type="module" th:src="@{/js/transaction.js}"></script>
<script type="module" th:src="@{/js/dropdown.js}"></script>
<script th:src="@{/js/chevron.js}"></script>
</body>
</html>
